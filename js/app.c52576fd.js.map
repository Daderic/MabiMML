{"version":3,"file":"js/app.c52576fd.js","mappings":"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","sources":["webpack://music-sequencer/./src/App.vue","webpack://music-sequencer/./src/components/PatternEditor.vue","webpack://music-sequencer/./src/components/PianoRoll.vue","webpack://music-sequencer/./src/components/PianoRoll.vue?b086","webpack://music-sequencer/./src/components/Sequencer.vue","webpack://music-sequencer/./src/components/PatternEditor.vue?415c","webpack://music-sequencer/./src/App.vue?7ccd","webpack://music-sequencer/./src/main.js","webpack://music-sequencer/webpack/bootstrap","webpack://music-sequencer/webpack/runtime/chunk loaded","webpack://music-sequencer/webpack/runtime/compat get default export","webpack://music-sequencer/webpack/runtime/define property getters","webpack://music-sequencer/webpack/runtime/global","webpack://music-sequencer/webpack/runtime/hasOwnProperty shorthand","webpack://music-sequencer/webpack/runtime/publicPath","webpack://music-sequencer/webpack/runtime/jsonp chunk loading","webpack://music-sequencer/webpack/startup"],"sourcesContent":["<template>\n  <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n  <div id=\"app\">\n    <PatternEditor />\n  </div>\n</template>\n\n<script>\nimport PatternEditor from './components/PatternEditor.vue';\nimport PianoRoll from './components/PianoRoll.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    PatternEditor\n  }\n}\n</script>\n\n<style>\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n","<template>\r\n    <div class=\"pattern-editor\">\r\n        <div class=\"scroll-container\" ref=\"scrollContainer\">\r\n            <PianoRoll />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport PianoRoll from './PianoRoll.vue';\r\nimport Sequencer from './Sequencer.vue';\r\n\r\nexport default {\r\n    name: 'PatternEditor',\r\n    components: {\r\n        PianoRoll\r\n    },\r\n    setup() {\r\n        const scrollContainer = ref(null);\r\n\r\n        return {\r\n            scrollContainer\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.pattern-editor {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.scroll-container {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: auto;\r\n    display: flex;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"piano-container\">\r\n        <button class=\"play-button\" @click=\"playSequence\">Play Sequence</button>\r\n        <div class=\"controls\">\r\n            <div class=\"instrument-selector\">\r\n                <label for=\"instrument-select\">Select Instrument: </label>\r\n                <select id=\"instrument-select\" v-model=\"selectedInstrument\" @change=\"changeInstrument\">\r\n                    <option v-for=\"(instrument, index) in instruments\" :key=\"index\" :value=\"instrument\">\r\n                        {{ instrument.name }}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"tempo-selector\">\r\n                <label for=\"tempo-select\">Tempo: </label>\r\n                <input type=\"number\" id=\"tempo-select\" v-model.number=\"tempo\" min=\"40\" max=\"240\">\r\n            </div>\r\n        </div>\r\n        <div class=\"piano-roll\" ref=\"pianoRoll\">\r\n            <div class=\"piano-keys\">\r\n                <!-- Generate piano keys for multiple octaves -->\r\n                <div v-for=\"octave in octaves\" :key=\"octave\" class=\"octave\">\r\n                    <div class=\"keys-wrapper\">\r\n                        <!-- Keys should be in reverse order to have higher notes at the top -->\r\n                        <div v-for=\"(note, index) in notes.slice().reverse()\" :key=\"note.name\"\r\n                            :class=\"['piano-key', note.isBlack ? 'black-key' : 'white-key']\"\r\n                            @mousedown=\"startNote(0, note, octave)\"\r\n                            @mouseover=\"mouseOverNote(0, note, octave)\"\r\n                            @mouseup=\"endNote(0, note, octave)\"\r\n                            @mouseleave=\"mouseLeaveNote(0, note, octave)\"\r\n                            :style=\"note.isBlack ? { zIndex: 1 } : {}\">\r\n                            {{ note.name + octave }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid-wrapper\">\r\n                <div class=\"grid\" ref=\"grid\" :style=\"{ width: gridSpan + 'px' }\" @mousedown.left=\"handleGridClick\" @contextmenu.prevent=\"startNoteRemove\">\r\n                    <div v-for=\"note in notesInGrid\" :key=\"note.id\" class=\"note\"\r\n                        :style=\"{\r\n                            left: note.left + 'px',\r\n                            top: note.top + 'px',\r\n                            width: note.width + 'px',\r\n                            height: gridHeight + 'px',\r\n                            backgroundColor: note.highlighted ? 'rgba(255, 0, 0, 0.5)' : 'rgba(0, 120, 255, 0.5)'\r\n                        }\"\r\n                        @mousedown.left=\"startDrag(note, $event)\"\r\n                        @mouseup.left=\"endDrag\"\r\n                        @mousedown.right.prevent=\"removeNote(note)\">\r\n                        <div class=\"resize-handle\" @mousedown=\"startResize(note, $event)\"></div>\r\n                        {{ note.name }}\r\n                    </div>\r\n                </div>\r\n                <div v-if=\"isSelecting\" class=\"selection-rect\" :style=\"rectangleStyle\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, watchEffect, computed } from 'vue';\r\nimport { Synthetizer, MIDIBuilder, writeMIDIFile, Sequencer } from \"spessasynth_lib\";\r\n\r\nexport default {\r\n    name: 'PianoRoll',\r\n    setup() {\r\n        const root = process.env.NODE_ENV === 'production' ? '../MabiMML/' : '../';\r\n        const pianoRoll = ref(null);\r\n        const grid = ref(null);\r\n        const synth = ref(null);\r\n        const context = ref(null);\r\n        const isMouseDown = ref(false);\r\n        const selectedInstrument = ref({ name: 'Piano', sf2: root + 'soundfonts/piano.sf2' });\r\n        const midiBuilder = ref(null);\r\n        const tempo = ref(120);\r\n\r\n        const instruments = ref([\r\n            { name: 'Piano', sf2: root + 'soundfonts/piano.sf2' },\r\n            { name: 'Harp', sf2: root + 'soundfonts/harp.sf2' },\r\n            { name: 'Lyre', sf2: root + 'soundfonts/lyre.sf2' },\r\n            { name: 'Lute', sf2: root + 'soundfonts/lute.sf2' },\r\n            { name: 'Ukulele', sf2: root + 'soundfonts/ukulele.sf2' },\r\n            { name: 'Mandolin', sf2: root + 'soundfonts/mandolin.sf2' },\r\n            { name: 'Electric Guitar', sf2: root + 'soundfonts/electric_guitar.sf2' },\r\n            { name: 'Violin', sf2: root + 'soundfonts/violin.sf2' },\r\n            { name: 'Cello', sf2: root + 'soundfonts/cello.sf2' },\r\n            { name: 'Flute', sf2: root + 'soundfonts/flute.sf2' },\r\n            { name: 'Whistle', sf2: root + 'soundfonts/whistle.sf2' },\r\n            { name: 'Chalumeau', sf2: root + 'soundfonts/chalumeau.sf2' },\r\n            { name: 'Roncadora', sf2: root + 'soundfonts/roncadora.sf2' },\r\n            { name: 'Physis Tuba', sf2: root + 'soundfonts/tuba.sf2' },\r\n            { name: 'Festival Lute', sf2: root + 'soundfonts/festival_lute.sf2' },\r\n            { name: 'Festival Ukulele', sf2: root + 'soundfonts/festival_ukulele.sf2' },\r\n            { name: 'Festival Mandolin', sf2: root + 'soundfonts/festival_mandolin.sf2' },\r\n            { name: 'Fest/Tuned Flute', sf2: root + 'soundfonts/festival_flute.sf2' },\r\n            { name: 'Fest/Tuned Whistle', sf2: root + 'soundfonts/festival_whistle.sf2' },\r\n            { name: 'Tuned Violin', sf2: root + 'soundfonts/tuned_violin.sf2' },\r\n            { name: 'Tuned Cello', sf2: root + 'soundfonts/tuned_cello.sf2' },\r\n            { name: 'Drum Kit', sf2: root + 'soundfonts/drum_kit.sf2' },\r\n            { name: 'Bass Drum', sf2: root + 'soundfonts/bass_drum.sf2' },\r\n            { name: 'Snare Drum', sf2: root + 'soundfonts/snare_drum.sf2' },\r\n            { name: 'Cymbals', sf2: root + 'soundfonts/cymbals.sf2' },\r\n            { name: 'Hand Chimes', sf2: root + 'soundfonts/hand_chimes.sf2' },\r\n            { name: 'Male Voice', sf2: root + 'soundfonts/male_voice.sf2' },\r\n            { name: 'Male Chorus', sf2: root + 'soundfonts/male_chorus.sf2' },\r\n            { name: 'Female Voice', sf2: root + 'soundfonts/female_voice.sf2' },\r\n            { name: 'Female Chorus', sf2: root + 'soundfonts/female_chorus.sf2' },\r\n            { name: \"'C' Tone Bottle\", sf2: root + 'soundfonts/c_tone_bottle.sf2' },\r\n            { name: \"'D' Tone Bottle\", sf2: root + 'soundfonts/d_tone_bottle.sf2' },\r\n            { name: \"'E' Tone Bottle\", sf2: root + 'soundfonts/e_tone_bottle.sf2' },\r\n            { name: \"'F' Tone Bottle\", sf2: root + 'soundfonts/f_tone_bottle.sf2' },\r\n            { name: \"'G' Tone Bottle\", sf2: root + 'soundfonts/g_tone_bottle.sf2' },\r\n            { name: \"'A' Tone Bottle\", sf2: root + 'soundfonts/a_tone_bottle.sf2' },\r\n            { name: \"'B' Tone Bottle\", sf2: root + 'soundfonts/b_tone_bottle.sf2' },\r\n            { name: \"'C' Tone Handbell\", sf2: root + 'soundfonts/c_tone_handbell.sf2' },\r\n            { name: \"'D' Tone Handbell\", sf2: root + 'soundfonts/d_tone_handbell.sf2' },\r\n            { name: \"'E' Tone Handbell\", sf2: root + 'soundfonts/e_tone_handbell.sf2' },\r\n            { name: \"'F' Tone Handbell\", sf2: root + 'soundfonts/f_tone_handbell.sf2' },\r\n            { name: \"'G' Tone Handbell\", sf2: root + 'soundfonts/g_tone_handbell.sf2' },\r\n            { name: \"'A' Tone Handbell\", sf2: root + 'soundfonts/a_tone_handbell.sf2' },\r\n            { name: \"'B' Tone Handbell\", sf2: root + 'soundfonts/b_tone_handbell.sf2' },\r\n            { name: 'High \\'C\\' Tone Handbell', sf2: root + 'soundfonts/high_c_tone_handbell.sf2' }\r\n        ]);\r\n\r\n        let currentNoteLength = ref(16);\r\n        const gridWidth = 16;\r\n        const gridHeight = 24;\r\n        const notesInGrid = ref([]);\r\n        const draggingNotes = ref([]);\r\n        const resizingNotes = ref([]);\r\n        const startX = ref(0);\r\n        const startY = ref(0);\r\n        const startLeft = ref(0);\r\n        const startTop = ref(0);\r\n        const startWidth = ref(0);\r\n        const gridSpan = ref(window.innerWidth);\r\n\r\n\r\n        const selectedNotes = ref([]);\r\n        const isSelecting = ref(false);\r\n        const currentX = ref(0);\r\n        const currentY = ref(0);\r\n\r\n        const rectangleStyle = computed(() => ({\r\n            left: `${Math.min(startX.value, currentX.value)}px`,\r\n            top: `${Math.min(startY.value, currentY.value)}px`,\r\n            width: `${Math.abs(currentX.value - startX.value)}px`,\r\n            height: `${Math.abs(currentY.value - startY.value)}px`,\r\n            backgroundColor: 'rgba(0, 100, 255, 0.3)', // Transparent blue\r\n            border: '1px solid rgba(0, 100, 255, 0.5)' // Optional border\r\n        }));\r\n\r\n        const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\n        const blackNotes = ['C#', 'D#', 'F#', 'G#', 'A#'];\r\n        const notes = ref(noteNames.map((name, index) => ({\r\n            name: name,\r\n            index: index,\r\n            isBlack: blackNotes.includes(name)\r\n        })));\r\n        const octaves = ref([0, 1, 2, 3, 4, 5, 6, 7, 8]);\r\n\r\n        watchEffect(() => {\r\n            const maxRightPosition = Math.max(...notesInGrid.value.map(note => note.left + note.width), 0);\r\n            gridSpan.value = Math.max(maxRightPosition + window.innerWidth, window.innerWidth);\r\n        });\r\n\r\n        const loadSoundFont = async (instrument) => {\r\n            try {\r\n                const response = await fetch(instrument.sf2);\r\n                const soundFontArrayBuffer = await response.arrayBuffer();\r\n                return soundFontArrayBuffer;\r\n            } catch (error) {\r\n                console.error(\"Failed to load SoundFont:\", error);\r\n                return null;\r\n            }\r\n        };\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                context.value = new AudioContext();\r\n                await context.value.audioWorklet.addModule(root + \"worklet_processor.min.js\");\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n                if (!soundFontArrayBuffer) return;\r\n                synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                await synth.value.isReady;\r\n\r\n            } catch (error) {\r\n                console.error(\"Error initializing sequencer or synthesizer:\", error);\r\n            }\r\n        });\r\n\r\n        const playSequence = async () => {\r\n            try {\r\n                midiBuilder.value = new MIDIBuilder(\"untitled\", 480, tempo.value);\r\n                //midiBuilder.value.addEvent(0, 0, 0xC0, [selectedInstrument.value.program - 1]);\r\n                \r\n                context.value.resume();\r\n                if (!synth.value) return;\r\n\r\n                notesInGrid.value.forEach(note => {\r\n                    const channel = 0;\r\n                    const pitch = noteNames.indexOf(note.name.slice(0, -1)) + 12 * (parseInt(note.name.slice(-1)) + 1);\r\n                    const startTime = note.left / gridWidth*120;\r\n                    const duration = note.width * (480/(gridWidth*4));\r\n\r\n                    midiBuilder.value.addNoteOn(startTime, 0, channel, pitch, 127);\r\n                    midiBuilder.value.addNoteOff(startTime + duration, 0, channel, pitch);\r\n                });\r\n\r\n                midiBuilder.value.flush();\r\n\r\n                const b = await(writeMIDIFile(midiBuilder.value));\r\n                const seq = new Sequencer([{binary: b}], synth.value);\r\n                seq.loop = false;\r\n                await synth.value.isReady;\r\n                seq.play();\r\n            } catch (error) {\r\n                console.error(\"Error playing sequence: \", error);\r\n            }\r\n        };\r\n\r\n        const startNote = async (channel, note, octave) => {\r\n            try {\r\n                context.value.resume();\r\n                await synth.value.isReady;\r\n                synth.value.noteOn(channel, note.index + 12 * (octave + 1), 127, false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const endNote = async (channel, note, octave) => {\r\n            try {\r\n                await synth.value.isReady;\r\n                if (synth.value) {\r\n                    synth.value.noteOff(channel, note.index + 12 * (octave + 1));\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const mouseOverNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && draggingNotes.value.length === 0 && resizingNotes.value.length === 0) {\r\n                startNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const mouseLeaveNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && draggingNotes.value.length === 0 && resizingNotes.value.length === 0) {\r\n                endNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const changeInstrument = async () => {\r\n            if (synth.value) {\r\n\r\n            }\r\n            if (synth.value && selectedInstrument.value) {\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n\r\n                if (!soundFontArrayBuffer) return;\r\n\r\n                //context.value = new AudioContext();\r\n                //await context.value.audioWorklet.addModule(\"../worklet_processor.min.js\");\r\n\r\n                //synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                \r\n                await synth.value.soundfontManager.reloadManager(soundFontArrayBuffer);\r\n                await synth.value.isReady;\r\n            }\r\n        };\r\n\r\n        const startPositions = new Map();\r\n\r\n        const startDrag = (note, event, placeNote = true) => {\r\n            event.preventDefault();\r\n            if (event.button === 0 && resizingNotes.value.length === 0) { // Ensure we're dragging with left button\r\n                if (note.highlighted) {\r\n                    draggingNotes.value = selectedNotes.value;\r\n                } else {\r\n                    clearSelection();\r\n                    draggingNotes.value.push(note);\r\n                }\r\n\r\n                if (event.shiftKey && placeNote) {\r\n                    for (const note of draggingNotes.value) {\r\n                        notesInGrid.value.push({\r\n                            id: notesInGrid.value.length,\r\n                            name: note.name,\r\n                            left: note.left,\r\n                            top: note.top,\r\n                            width: note.width,\r\n                            highlighted: false\r\n                        });\r\n                    }\r\n                }\r\n\r\n                for (const draggingNote of draggingNotes.value) {\r\n                    startPositions.set(draggingNote.id, {\r\n                        x: event.clientX,\r\n                        y: event.clientY,\r\n                        left: draggingNote.left,\r\n                        top: draggingNote.top\r\n                    });\r\n                }\r\n\r\n                currentNoteLength.value = note.width / gridWidth;\r\n                document.addEventListener('mousemove', onDrag);\r\n                document.addEventListener('mouseup', endDrag);\r\n            }\r\n        };\r\n\r\n        const onDrag = (event) => {\r\n            if (draggingNotes.value && resizingNotes.value.length === 0) {\r\n\r\n                let outOfBounds = false;\r\n                const newPositions = [];\r\n\r\n                for (const note of draggingNotes.value) {\r\n\r\n                    const startPos = startPositions.get(note.id);\r\n                    if (!startPos) continue;\r\n\r\n                    const dx = event.clientX - startPos.x;\r\n                    const dy = event.clientY - startPos.y;\r\n\r\n                    let newLeft = Math.round((startPos.left + dx) / gridWidth) * gridWidth;\r\n                    let newTop = Math.round((startPos.top + dy) / gridHeight) * gridHeight;\r\n                    \r\n                    if (newLeft < 0 || newTop < 0 || newTop > 2568) {\r\n                        outOfBounds = true;\r\n                        break; // Exit loop if any note is out of bounds\r\n                    }\r\n\r\n                    newPositions.push({ note, newLeft, newTop });\r\n\r\n                }\r\n\r\n                if (outOfBounds) return;\r\n\r\n                for (const { note, newLeft, newTop } of newPositions) {\r\n\r\n                    note.left = newLeft;\r\n                    note.top = newTop;\r\n\r\n                    const number = (1284-(note.top/2))/144;\r\n                    const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n                    if (note.name != noteName && draggingNotes.value.length === 1) {\r\n                        startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                        endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                    }\r\n                    note.name = noteName;\r\n                    \r\n                }\r\n            }\r\n        };\r\n\r\n        const endDrag = () => {\r\n            draggingNotes.value = [];\r\n            document.removeEventListener('mousemove', onDrag);\r\n            document.removeEventListener('mouseup', endDrag);\r\n            startPositions.clear();\r\n        };\r\n\r\n        const startResizeData = new Map();\r\n\r\n        const startResize = (note, event) => {\r\n            event.preventDefault();\r\n            if (event.button === 0) { // Ensure we're resizing with the left button\r\n                resizingNotes.value = [];\r\n                startX.value = event.clientX;\r\n                startResizeData.clear(); // Clear previous data\r\n\r\n                if (note.highlighted) {\r\n                    // If note is highlighted, prepare to resize all selected notes\r\n                    selectedNotes.value.forEach(n => {\r\n                        startResizeData.set(n.id, { width: n.width, startX: event.clientX });\r\n                    });\r\n                    resizingNotes.value = selectedNotes.value;\r\n                } else {\r\n                    // If note is not highlighted, resize only this note\r\n                    clearSelection();\r\n                    startResizeData.set(note.id, { width: note.width, startX: event.clientX });\r\n                    resizingNotes.value = [note];\r\n                }\r\n                \r\n                document.addEventListener('mousemove', onResize);\r\n                document.addEventListener('mouseup', endResize);\r\n            }\r\n        };\r\n\r\n        const onResize = (event) => {\r\n            if (resizingNotes.value.length > 0) {\r\n                let allInBounds = true;\r\n\r\n                const newWidths = [];\r\n\r\n                resizingNotes.value.forEach(note => {\r\n                    const startData = startResizeData.get(note.id);\r\n                    if (!startData) return;\r\n\r\n                    const dx = event.clientX - startData.startX;\r\n                    let newWidth = Math.round((startData.width + dx) / gridWidth) * gridWidth;\r\n\r\n                    // Check if newWidth is valid for the note\r\n                    if (newWidth < gridWidth) {\r\n                        allInBounds = false;\r\n                        return;\r\n                    }\r\n\r\n                    newWidths.push({ note, newWidth })\r\n\r\n                });\r\n\r\n                // If any note was resized to an invalid width, stop resizing\r\n                if (allInBounds) {\r\n                    for (const { note, newWidth } of newWidths) {\r\n                        note.width = newWidth;\r\n                        currentNoteLength.value = newWidth / gridWidth;\r\n                    };\r\n                }\r\n            }\r\n        };\r\n\r\n        const endResize = () => {\r\n            resizingNotes.value = [];\r\n            startResizeData.clear();\r\n            document.removeEventListener('mousemove', onResize);\r\n            document.removeEventListener('mouseup', endResize);\r\n        }\r\n\r\n        const handleGridClick = (event) => {\r\n            if (event.ctrlKey && draggingNotes.value.length <= 0) {\r\n                if (!event.shiftKey)\r\n                    clearSelection();\r\n                startSelection(event);\r\n            } else {\r\n                startPlacingNote(event);\r\n            }\r\n        }\r\n\r\n        function clearSelection() {\r\n            selectedNotes.value.forEach((note) => {\r\n                note.highlighted = false;\r\n            });\r\n            selectedNotes.value = [];\r\n        }\r\n\r\n        const startSelection = (event) => {\r\n            event.preventDefault();\r\n            isSelecting.value = true;\r\n            const rect = grid.value.getBoundingClientRect();\r\n            startX.value = event.clientX - rect.left;\r\n            startY.value = event.clientY - rect.top;\r\n            currentX.value = event.clientX - rect.left;\r\n            currentY.value = event.clientY - rect.top;\r\n            document.addEventListener('mousemove', onSelectionMove);\r\n            document.addEventListener('mouseup', onSelectionEnd);\r\n        };\r\n\r\n        const onSelectionMove = (event) => {\r\n            if (isSelecting.value) {\r\n                const rect = grid.value.getBoundingClientRect();\r\n                currentX.value = event.clientX - rect.left;\r\n                currentY.value = event.clientY - rect.top;\r\n                // This is where we add the logic to highlight the notes that might be selected (or we can select them I dont really care)\r\n            }\r\n        };\r\n\r\n        const onSelectionEnd = () => {\r\n            if (isSelecting.value) {\r\n                isSelecting.value = false;\r\n                document.removeEventListener('mousemove', onSelectionMove);\r\n                document.removeEventListener('mouseup', onSelectionEnd);\r\n                // This is where we add the logic to actually select the notes\r\n                checkIntersections();\r\n            }\r\n        };\r\n\r\n        function checkIntersections() {\r\n            const selectionRect = {\r\n                left: Math.min(startX.value, currentX.value),\r\n                top: Math.min(startY.value, currentY.value),\r\n                right: Math.max(startX.value, currentX.value),\r\n                bottom: Math.max(startY.value, currentY.value),\r\n            };\r\n\r\n            notesInGrid.value.forEach(note => {\r\n                const itemRect = {\r\n                    left: note.left,\r\n                    top: note.top,\r\n                    right: note.left + note.width,\r\n                    bottom: note.top + gridHeight,\r\n                };   \r\n\r\n                if (intersects(selectionRect, itemRect)) {\r\n                    //console.log(note.name + ' intersects with selection.');\r\n                    selectedNotes.value.push(note);\r\n                    note.highlighted = true;\r\n                }\r\n            });\r\n\r\n        };\r\n\r\n        function intersects(rect1, rect2) {\r\n            return !(rect2.left >= rect1.right ||\r\n                    rect2.right <= rect1.left ||\r\n                    rect2.top >= rect1.bottom ||\r\n                    rect2.bottom <= rect1.top);\r\n        }\r\n\r\n\r\n        const startPlacingNote = (event) => {\r\n            if (draggingNotes.value.length > 0 || resizingNotes.value.length > 0) {\r\n                return;\r\n            }\r\n\r\n            const gridElement = grid.value;\r\n            const rect = gridElement.getBoundingClientRect();\r\n            const x = event.clientX - rect.left + gridElement.scrollLeft;\r\n            const y = event.clientY - rect.top + gridElement.scrollTop;\r\n\r\n            const left = Math.round((x - gridWidth / 2) / gridWidth) * gridWidth;\r\n            const top = Math.round((y - gridHeight / 2) / gridHeight) * gridHeight;\r\n\r\n            const number = (1284-(top/2))/144;\r\n            const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n            startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n            endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n\r\n            const existingNote = notesInGrid.value.find(note =>\r\n                note.left === left && note.top === top\r\n            );\r\n\r\n            if (!existingNote) {\r\n                clearSelection();\r\n                const id = notesInGrid.value.length;\r\n                notesInGrid.value.push({\r\n                    id: id,\r\n                    name: noteName,\r\n                    left: left,\r\n                    top: top,\r\n                    width: gridWidth * currentNoteLength.value,\r\n                    highlighted: false\r\n                });\r\n                startDrag(notesInGrid.value.find(note => note.id == id), event, false);\r\n            } else {\r\n                startDrag(existingNote, event);\r\n            }\r\n        };\r\n\r\n        const startNoteRemove = (note, event) => {\r\n            if (event.button === 2) { // Ensure we're removing with right button\r\n                removeNote(note);\r\n            }\r\n        };\r\n\r\n        const removeNote = (note) => {\r\n            if (selectedNotes.value.includes(note)) {\r\n                selectedNotes.value = selectedNotes.value.filter(n => n.id !== note.id);\r\n            }\r\n            notesInGrid.value = notesInGrid.value.filter(n => n.id !== note.id);\r\n        };\r\n\r\n        document.addEventListener('mousedown', (event) => {\r\n            isMouseDown.value = true;\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            isMouseDown.value = false;\r\n        });\r\n\r\n        return {\r\n            notes,\r\n            octaves,\r\n            startNote,\r\n            endNote,\r\n            mouseOverNote,\r\n            mouseLeaveNote,\r\n            instruments,\r\n            selectedInstrument,\r\n            changeInstrument,\r\n            pianoRoll,\r\n            grid,\r\n            notesInGrid,\r\n            startDrag,\r\n            endDrag,\r\n            startPlacingNote,\r\n            removeNote,\r\n            gridWidth,\r\n            gridHeight,\r\n            gridSpan,\r\n            startResize,\r\n            endResize,\r\n            onResize,\r\n            currentNoteLength,\r\n            playSequence,\r\n            tempo,\r\n            handleGridClick,\r\n            isSelecting,\r\n            rectangleStyle,\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.piano-container {\r\n    position: fixed;\r\n    /* Fix to the left side of the screen */\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    /* Full height */\r\n    width: 100%;\r\n    /* Width of the piano roll */\r\n    background-color: #ddd;\r\n}\r\n\r\n.instrument-selector {\r\n    padding: 10px;\r\n    background-color: #f0f0f0;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.piano-roll {\r\n    height: 100vh;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    overflow-y: auto;\r\n    box-sizing: border-box;\r\n    padding-bottom: 36px;\r\n}\r\n\r\n.piano-keys {\r\n    width: 10%;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    padding-bottom: 18px;\r\n    /* Higher notes at the top */\r\n}\r\n\r\n.octave {\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.keys-wrapper {\r\n    flex-direction: column-reverse;\r\n    /* Ensure keys are in the correct order */\r\n}\r\n\r\n.piano-key {\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    position: relative;\r\n    user-select: none;\r\n}\r\n\r\n.white-key {\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    background: white;\r\n    border-bottom: 1px solid #ccc;\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.black-key {\r\n    background: black;\r\n    color: #fff;\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    position: relative;\r\n    /* Center black key over white key */\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.white-key:nth-child(2n+1) {\r\n    background: #fff;\r\n}\r\n\r\n.white-key:nth-child(12n) {\r\n    background: #bbb;\r\n}\r\n\r\n.grid-wrapper {\r\n    overflow-x: scroll;\r\n    overflow-y: hidden;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.grid {\r\n    position: absolute;\r\n    display: flex;\r\n    min-width: 200%;\r\n    align-self: top;\r\n    height: 100%;/*2592px;*/\r\n    background: repeating-linear-gradient(\r\n        0deg,\r\n        #ccc,\r\n        #ccc 2px,\r\n        transparent 2px,\r\n        transparent 24px\r\n    ),\r\n    repeating-linear-gradient(\r\n        90deg,\r\n        #ccc,\r\n        #ccc 2px,\r\n        transparent 2px,\r\n        transparent 16px\r\n    );\r\n    z-index: 10;\r\n    overflow: hidden;\r\n}\r\n\r\n.note {\r\n  position: absolute;\r\n  background-color: rgba(0, 120, 255, 0.5);\r\n  border: 1px solid #0078d4;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 20;\r\n  font-size: 70%;\r\n}\r\n\r\n.note:active {\r\n    background-color: rgba(0, 120, 255, 0.7);\r\n}\r\n\r\n.resize-handle {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 10px; /* Adjust as needed */\r\n    height: 100%;\r\n    cursor: ew-resize;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.play-button {\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 10px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #0078d4;\r\n  color: white;\r\n  z-index: 1000; /* Ensure it's on top of other elements */\r\n  outline: none;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.controls {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.instrument-selector,\r\n.tempo-selector {\r\n    margin-right: 15px;\r\n}\r\n\r\n.selection-rect {\r\n    position: absolute;\r\n    border: 1px solid rgba(0, 100, 255, 0.5);\r\n    background-color: rgba(0, 100, 255, 0.3);\r\n    z-index: 30;\r\n}\r\n\r\n</style>","import { render } from \"./PianoRoll.vue?vue&type=template&id=3c3e2cf0&scoped=true\"\nimport script from \"./PianoRoll.vue?vue&type=script&lang=js\"\nexport * from \"./PianoRoll.vue?vue&type=script&lang=js\"\n\nimport \"./PianoRoll.vue?vue&type=style&index=0&id=3c3e2cf0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c3e2cf0\"]])\n\nexport default __exports__","import { render } from \"./Sequencer.vue?vue&type=template&id=2e49d91b&scoped=true\"\nimport script from \"./Sequencer.vue?vue&type=script&lang=js\"\nexport * from \"./Sequencer.vue?vue&type=script&lang=js\"\n\nimport \"./Sequencer.vue?vue&type=style&index=0&id=2e49d91b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e49d91b\"]])\n\nexport default __exports__","import { render } from \"./PatternEditor.vue?vue&type=template&id=233a7f0a&scoped=true\"\nimport script from \"./PatternEditor.vue?vue&type=script&lang=js\"\nexport * from \"./PatternEditor.vue?vue&type=script&lang=js\"\n\nimport \"./PatternEditor.vue?vue&type=style&index=0&id=233a7f0a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-233a7f0a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45718dbe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45718dbe&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/MabiMML/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmusic_sequencer\"] = self[\"webpackChunkmusic_sequencer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2639); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","alt","src","_imports_0","id","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_createVNode","_component_PatternEditor","class","ref","_component_PianoRoll","for","onClick","_cache","args","$setup","playSequence","_hoisted_3","_hoisted_4","$event","selectedInstrument","onChange","changeInstrument","_renderList","instruments","instrument","index","key","value","name","_hoisted_5","_hoisted_6","_hoisted_7","type","tempo","min","max","number","_hoisted_8","_hoisted_9","octaves","octave","_hoisted_10","notes","slice","reverse","note","_normalizeClass","isBlack","onMousedown","startNote","onMouseover","mouseOverNote","onMouseup","endNote","onMouseleave","mouseLeaveNote","style","_normalizeStyle","zIndex","_hoisted_11","_hoisted_12","width","gridSpan","_withModifiers","handleGridClick","onContextmenu","_ctx","startNoteRemove","notesInGrid","left","top","gridHeight","highlighted","startDrag","removeNote","endDrag","startResize","_hoisted_14","_createTextVNode","_toDisplayString","_hoisted_13","isSelecting","rectangleStyle","_createCommentVNode","setup","root","pianoRoll","grid","synth","context","isMouseDown","sf2","midiBuilder","currentNoteLength","gridWidth","draggingNotes","resizingNotes","startX","startY","window","innerWidth","selectedNotes","currentX","currentY","computed","Math","abs","height","backgroundColor","border","noteNames","blackNotes","map","includes","watchEffect","maxRightPosition","loadSoundFont","async","response","fetch","soundFontArrayBuffer","arrayBuffer","error","console","onMounted","AudioContext","audioWorklet","addModule","Synthetizer","destination","undefined","chorusEnabled","reverbEnabled","isReady","MIDIBuilder","resume","forEach","channel","pitch","indexOf","parseInt","startTime","duration","addNoteOn","addNoteOff","flush","b","writeMIDIFile","seq","Sequencer","binary","loop","play","noteOn","noteOff","length","soundfontManager","reloadManager","startPositions","Map","event","placeNote","preventDefault","button","clearSelection","push","shiftKey","draggingNote","set","x","clientX","y","clientY","document","addEventListener","onDrag","outOfBounds","newPositions","startPos","get","dx","dy","newLeft","round","newTop","noteName","floor","removeEventListener","clear","startResizeData","n","onResize","endResize","allInBounds","newWidths","startData","newWidth","ctrlKey","startSelection","startPlacingNote","rect","getBoundingClientRect","onSelectionMove","onSelectionEnd","checkIntersections","selectionRect","right","bottom","itemRect","intersects","rect1","rect2","gridElement","scrollLeft","scrollTop","existingNote","find","filter","__exports__","components","PianoRoll","scrollContainer","PatternEditor","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","p","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}