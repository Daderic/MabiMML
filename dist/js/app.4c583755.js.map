{"version":3,"file":"js/app.4c583755.js","mappings":"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","sources":["webpack://music-sequencer/./src/App.vue","webpack://music-sequencer/./src/components/PatternEditor.vue","webpack://music-sequencer/./src/components/PianoRoll.vue","webpack://music-sequencer/./src/components/PianoRoll.vue?b086","webpack://music-sequencer/./src/components/Sequencer.vue","webpack://music-sequencer/./src/components/PatternEditor.vue?415c","webpack://music-sequencer/./src/App.vue?7ccd","webpack://music-sequencer/./src/main.js","webpack://music-sequencer/webpack/bootstrap","webpack://music-sequencer/webpack/runtime/chunk loaded","webpack://music-sequencer/webpack/runtime/compat get default export","webpack://music-sequencer/webpack/runtime/define property getters","webpack://music-sequencer/webpack/runtime/global","webpack://music-sequencer/webpack/runtime/hasOwnProperty shorthand","webpack://music-sequencer/webpack/runtime/publicPath","webpack://music-sequencer/webpack/runtime/jsonp chunk loading","webpack://music-sequencer/webpack/startup"],"sourcesContent":["<template>\n  <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n  <div id=\"app\">\n    <PatternEditor />\n  </div>\n</template>\n\n<script>\nimport PatternEditor from './components/PatternEditor.vue';\nimport PianoRoll from './components/PianoRoll.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    PatternEditor\n  }\n}\n</script>\n\n<style>\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n","<template>\r\n    <div class=\"pattern-editor\">\r\n        <div class=\"scroll-container\" ref=\"scrollContainer\">\r\n            <PianoRoll />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport PianoRoll from './PianoRoll.vue';\r\nimport Sequencer from './Sequencer.vue';\r\n\r\nexport default {\r\n    name: 'PatternEditor',\r\n    components: {\r\n        PianoRoll\r\n    },\r\n    setup() {\r\n        const scrollContainer = ref(null);\r\n\r\n        return {\r\n            scrollContainer\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.pattern-editor {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.scroll-container {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: auto;\r\n    display: flex;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"piano-container\">\r\n        <button class=\"play-button\" @click=\"playSequence\">Play Sequence</button>\r\n        <label class=\"loop-wrapper\">\r\n            Loop:\r\n            <input type=\"checkbox\" v-model=\"loopSong\"/>\r\n        </label>\r\n        <div class=\"controls\">\r\n            <div class=\"instrument-selector\">\r\n                <label for=\"instrument-select\">Select Instrument: </label>\r\n                <select id=\"instrument-select\" v-model=\"selectedInstrument\" @change=\"changeInstrument\">\r\n                    <option v-for=\"(instrument, index) in instruments\" :key=\"index\" :value=\"instrument\">\r\n                        {{ instrument.name }}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"tempo-selector\">\r\n                <label for=\"tempo-select\">Tempo: </label>\r\n                <input type=\"number\" id=\"tempo-select\" v-model.number=\"tempo\" min=\"40\" max=\"240\">\r\n            </div>\r\n        </div>\r\n        <div class=\"piano-roll\" ref=\"pianoRoll\">\r\n            <div class=\"piano-keys\">\r\n                <!-- Generate piano keys for multiple octaves -->\r\n                <div v-for=\"octave in octaves\" :key=\"octave\" class=\"octave\">\r\n                    <div class=\"keys-wrapper\">\r\n                        <!-- Keys should be in reverse order to have higher notes at the top -->\r\n                        <div v-for=\"(note, index) in notes.slice().reverse()\" :key=\"note.name\"\r\n                            :class=\"['piano-key', note.isBlack ? 'black-key' : 'white-key']\"\r\n                            @mousedown=\"startNote(0, note, octave)\"\r\n                            @mouseover=\"mouseOverNote(0, note, octave)\"\r\n                            @mouseup=\"endNote(0, note, octave)\"\r\n                            @mouseleave=\"mouseLeaveNote(0, note, octave)\"\r\n                            :style=\"note.isBlack ? { zIndex: 1 } : {}\">\r\n                            {{ note.name + octave }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"ruler\" ref=\"ruler\" \r\n                @mousedown=\"startMarkerDrag\"\r\n                :style=\"{ width: 'calc( 10% + ' + gridSpan + 'px )' }\">\r\n                <div\r\n                    v-for=\"index in Math.ceil(gridSpan / 256)\"\r\n                    :key=\"index\"\r\n                    class=\"ruler-tick-label\"\r\n                    :style=\"{ left: `calc(${(index - 1) * 256}px)` }\"\r\n                    >\r\n                    {{ index }}\r\n                </div>\r\n                <div class=\"marker-replay-triangle\" :style=\"{ left: markerReplayPosition + 'px' }\"></div>\r\n                <div class=\"marker-wrapper\" :style=\"{ left: markerPosition + 'px' }\">\r\n                    <div class=\"marker-triangle\"></div>\r\n                    <div class=\"marker-line\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid-wrapper\">\r\n                <div class=\"grid\" ref=\"grid\" :style=\"{ width: gridSpan + 'px' }\" @mousedown.left=\"handleGridClick\" @contextmenu.prevent=\"startNoteRemove\">\r\n                    <div v-for=\"note in notesInGrid\" :key=\"note.id\" class=\"note\"\r\n                        :style=\"{\r\n                            left: note.left + 'px',\r\n                            top: note.top + 'px',\r\n                            width: note.width + 'px',\r\n                            height: gridHeight + 'px',\r\n                            backgroundColor: note.highlighted ? 'rgba(255, 0, 0, 0.5)' : 'rgba(0, 120, 255, 0.5)'\r\n                        }\"\r\n                        @mousedown.left=\"startDrag(note, $event)\"\r\n                        @mouseup.left=\"endDrag\"\r\n                        @mousedown.right.prevent=\"removeNote(note)\">\r\n                        <div class=\"resize-handle\" @mousedown=\"startResize(note, $event)\"></div>\r\n                        {{ note.name }}\r\n                    </div>\r\n                    <div v-if=\"isSelecting\" class=\"selection-rect\" :style=\"rectangleStyle\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, watchEffect, computed } from 'vue';\r\nimport { Synthetizer, MIDIBuilder, writeMIDIFile, Sequencer } from \"spessasynth_lib\";\r\nimport { _ } from 'core-js';\r\n\r\nexport default {\r\n    name: 'PianoRoll',\r\n    setup() {\r\n        const root = process.env.NODE_ENV === 'production' ? '../MabiMML/' : '../';\r\n        const pianoRoll = ref(null);\r\n        const grid = ref(null);\r\n        const synth = ref(null);\r\n        const context = ref(null);\r\n        const isMouseDown = ref(false);\r\n        const selectedInstrument = ref({ name: 'Piano', sf2: root + 'soundfonts/piano.sf2' });\r\n        const midiBuilder = ref(null);\r\n        const tempo = ref(120);\r\n        const loopSong = ref(false);\r\n\r\n        const instruments = ref([\r\n            { name: 'Piano', sf2: root + 'soundfonts/piano.sf2' },\r\n            { name: 'Harp', sf2: root + 'soundfonts/harp.sf2' },\r\n            { name: 'Lyre', sf2: root + 'soundfonts/lyre.sf2' },\r\n            { name: 'Lute', sf2: root + 'soundfonts/lute.sf2' },\r\n            { name: 'Ukulele', sf2: root + 'soundfonts/ukulele.sf2' },\r\n            { name: 'Mandolin', sf2: root + 'soundfonts/mandolin.sf2' },\r\n            { name: 'Electric Guitar', sf2: root + 'soundfonts/electric_guitar.sf2' },\r\n            { name: 'Violin', sf2: root + 'soundfonts/violin.sf2' },\r\n            { name: 'Cello', sf2: root + 'soundfonts/cello.sf2' },\r\n            { name: 'Flute', sf2: root + 'soundfonts/flute.sf2' },\r\n            { name: 'Whistle', sf2: root + 'soundfonts/whistle.sf2' },\r\n            { name: 'Chalumeau', sf2: root + 'soundfonts/chalumeau.sf2' },\r\n            { name: 'Roncadora', sf2: root + 'soundfonts/roncadora.sf2' },\r\n            { name: 'Physis Tuba', sf2: root + 'soundfonts/tuba.sf2' },\r\n            { name: 'Festival Lute', sf2: root + 'soundfonts/festival_lute.sf2' },\r\n            { name: 'Festival Ukulele', sf2: root + 'soundfonts/festival_ukulele.sf2' },\r\n            { name: 'Festival Mandolin', sf2: root + 'soundfonts/festival_mandolin.sf2' },\r\n            { name: 'Fest/Tuned Flute', sf2: root + 'soundfonts/festival_flute.sf2' },\r\n            { name: 'Fest/Tuned Whistle', sf2: root + 'soundfonts/festival_whistle.sf2' },\r\n            { name: 'Tuned Violin', sf2: root + 'soundfonts/tuned_violin.sf2' },\r\n            { name: 'Tuned Cello', sf2: root + 'soundfonts/tuned_cello.sf2' },\r\n            { name: 'Drum Kit', sf2: root + 'soundfonts/drum_kit.sf2' },\r\n            { name: 'Bass Drum', sf2: root + 'soundfonts/bass_drum.sf2' },\r\n            { name: 'Snare Drum', sf2: root + 'soundfonts/snare_drum.sf2' },\r\n            { name: 'Cymbals', sf2: root + 'soundfonts/cymbals.sf2' },\r\n            { name: 'Hand Chimes', sf2: root + 'soundfonts/hand_chimes.sf2' },\r\n            { name: 'Male Voice', sf2: root + 'soundfonts/male_voice.sf2' },\r\n            { name: 'Male Chorus', sf2: root + 'soundfonts/male_chorus.sf2' },\r\n            { name: 'Female Voice', sf2: root + 'soundfonts/female_voice.sf2' },\r\n            { name: 'Female Chorus', sf2: root + 'soundfonts/female_chorus.sf2' },\r\n        ]);\r\n\r\n        let currentNoteLength = ref(16);\r\n        const gridWidth = 16;\r\n        const gridHeight = 24;\r\n        const notesInGrid = ref([]);\r\n        const draggingNotes = ref([]);\r\n        const resizingNotes = ref([]);\r\n        const startX = ref(0);\r\n        const startY = ref(0);\r\n        const startLeft = ref(0);\r\n        const startTop = ref(0);\r\n        const startWidth = ref(0);\r\n        const gridSpan = ref(window.innerWidth);\r\n\r\n        const scrollX = ref(0);\r\n\r\n        const selectedNotes = ref([]);\r\n        const isSelecting = ref(false);\r\n        const currentX = ref(0);\r\n        const currentY = ref(0);\r\n\r\n        const ruler = ref(null);\r\n        const markerPosition = ref(0);\r\n        const markerReplayPosition = ref(0);\r\n        const seq = ref(null);\r\n        const isPlaying = ref(false);\r\n\r\n        const rectangleStyle = computed(() => ({\r\n            left: `${Math.min(startX.value, currentX.value)}px`,\r\n            top: `${Math.min(startY.value, currentY.value)}px`,\r\n            width: `${Math.abs(currentX.value - startX.value)}px`,\r\n            height: `${Math.abs(currentY.value - startY.value)}px`,\r\n            backgroundColor: 'rgba(0, 100, 255, 0.3)', // Transparent blue\r\n            border: '1px solid rgba(0, 100, 255, 0.5)' // Optional border\r\n        }));\r\n\r\n        const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\n        const blackNotes = ['C#', 'D#', 'F#', 'G#', 'A#'];\r\n        const notes = ref(noteNames.map((name, index) => ({\r\n            name: name,\r\n            index: index,\r\n            isBlack: blackNotes.includes(name)\r\n        })));\r\n        const octaves = ref([0, 1, 2, 3, 4, 5, 6, 7, 8]);\r\n\r\n        watchEffect(() => {\r\n            const maxRightPosition = Math.max(...notesInGrid.value.map(note => note.left + note.width), 0);\r\n            gridSpan.value = Math.max(maxRightPosition + window.innerWidth, window.innerWidth);\r\n        });\r\n\r\n        const loadSoundFont = async (instrument) => {\r\n            try {\r\n                const response = await fetch(instrument.sf2);\r\n                const soundFontArrayBuffer = await response.arrayBuffer();\r\n                return soundFontArrayBuffer;\r\n            } catch (error) {\r\n                console.error(\"Failed to load SoundFont:\", error);\r\n                return null;\r\n            }\r\n        };\r\n\r\n        onMounted(async () => {\r\n            try {\r\n\r\n                const gridWrapper = document.querySelector('.grid-wrapper');\r\n                if (gridWrapper) {\r\n                    gridWrapper.addEventListener('scroll', updateRuler);\r\n                    updateRuler();\r\n                }\r\n\r\n                document.addEventListener('keydown', handleKeyPress);\r\n                context.value = new AudioContext();\r\n                await context.value.audioWorklet.addModule(root + \"worklet_processor.min.js\");\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n                if (!soundFontArrayBuffer) return;\r\n                synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                await synth.value.isReady;\r\n\r\n            } catch (error) {\r\n                console.error(\"Error initializing sequencer or synthesizer:\", error);\r\n            }\r\n        });\r\n\r\n        const startMarkerDrag = (event) => {\r\n            updateMarkerPos(event.clientX, event.altKey, true);\r\n            document.addEventListener('mousemove', onMarkerDrag);\r\n            document.addEventListener('mouseup', onMarkerDragEnd);\r\n        }\r\n\r\n        const onMarkerDrag = (event) => {\r\n            updateMarkerPos(event.clientX, event.altKey, true);\r\n        }\r\n\r\n        const onMarkerDragEnd = async () => {\r\n            if (isPlaying.value) {\r\n                await playSequence();\r\n            }\r\n            document.removeEventListener('mousemove', onMarkerDrag);\r\n            document.removeEventListener('mouseup', onMarkerDragEnd);\r\n        }\r\n\r\n        let markerInterval;\r\n\r\n        async function startMarkerAnim() {\r\n            isPlaying.value = true;\r\n            clearInterval(markerInterval);\r\n            doMarkerAnim();\r\n        }\r\n\r\n        function doMarkerAnim() {\r\n            function tick() {\r\n                //console.log(markerPosition.value);\r\n                markerPosition.value += 4;\r\n            }\r\n            tick();\r\n            markerInterval = setInterval(tick, tempo.value/4);\r\n        }\r\n\r\n        const stopMarkerAnim = () => {\r\n            clearInterval(markerInterval);\r\n            isPlaying.value = false;\r\n        }\r\n\r\n        const updateMarkerPos = (clientX, altKey, fromClick) => {\r\n            if (ruler.value) {\r\n                const rulerRect = ruler.value.getBoundingClientRect();\r\n                let newPos = clientX - rulerRect.left;\r\n\r\n                if (!altKey) {\r\n                    newPos = Math.round(newPos / gridWidth) * gridWidth;\r\n                }\r\n\r\n                newPos = Math.max(0, Math.min(gridSpan.value, newPos));\r\n\r\n                markerPosition.value = newPos;\r\n                if (fromClick) {\r\n                    markerReplayPosition.value = newPos;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        function handleKeyPress(event) {\r\n            if (event.key === 'Backspace' || event.key === 'Delete') {\r\n                for (const note of selectedNotes.value) {\r\n                    removeNote(note);\r\n                }\r\n            }\r\n            if (event.code === 'Space') {\r\n                event.preventDefault();\r\n                if (isPlaying.value) {\r\n                    isPlaying.value = false;\r\n                    seq.value.stop();\r\n                    stopMarkerAnim();\r\n                    if (!event.ctrlKey) {\r\n                        markerPosition.value = markerReplayPosition.value;\r\n                    }\r\n                } else {\r\n                    playSequence();\r\n                }\r\n            } else if (event.key === 'a' && event.ctrlKey) {\r\n                event.preventDefault();\r\n                for (const note of notesInGrid.value) {\r\n                    selectNote(note);\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateRuler() {\r\n            const gridWrapper = document.querySelector('.grid-wrapper');\r\n            const ruler = document.querySelector('.ruler');\r\n            if (gridWrapper && ruler) {\r\n                scrollX.value = gridWrapper.scrollLeft;\r\n                ruler.style.left = -scrollX.value + 'px'; // Adjust ruler's left position\r\n            }\r\n        }\r\n\r\n        const playSequence = async () => {\r\n            try {\r\n                midiBuilder.value = new MIDIBuilder(\"untitled\", 480, tempo.value);\r\n                //midiBuilder.value.addEvent(0, 0, 0xC0, [selectedInstrument.value.program - 1]);\r\n                \r\n                await context.value.resume();\r\n                if (!synth.value) return;\r\n\r\n                let notesAdded = 0;\r\n                notesInGrid.value.forEach(note => {\r\n                    if (note.left+note.width >= markerPosition.value) {\r\n                        const channel = 0;\r\n                        const pitch = noteNames.indexOf(note.name.slice(0, -1)) + 12 * (parseInt(note.name.slice(-1)) + 1);\r\n                        // Conversion from pixels to time.\r\n                        const noteStartTime = note.left/gridWidth*120;\r\n                        const noteDuration = note.width/gridWidth*120;\r\n                        const markerTime = markerPosition.value/gridWidth*120;\r\n                        const startTime = Math.max(noteStartTime, markerTime)-markerTime;\r\n                        const duration = Math.min(noteDuration, noteStartTime+noteDuration-markerTime);\r\n\r\n                        midiBuilder.value.addNoteOn(startTime, 0, channel, pitch, 127);\r\n                        midiBuilder.value.addNoteOff(startTime + duration, 0, channel, pitch);\r\n                        notesAdded++;\r\n                    }\r\n                });\r\n\r\n                if (notesAdded === 0) {\r\n                    return;\r\n                }\r\n\r\n                midiBuilder.value.flush();\r\n\r\n                const b = await(writeMIDIFile(midiBuilder.value));\r\n                seq.value = new Sequencer([{binary: b}], synth.value);\r\n                seq.value.loop = false;\r\n                await synth.value.isReady;\r\n                seq.value.skipToFirstNoteOn = false;\r\n                seq.value.addOnSongEndedEvent(() => {\r\n                    stopMarkerAnim();\r\n                    markerPosition.value = markerReplayPosition.value;\r\n                    if (loopSong.value) {\r\n                        markerPosition.value = 0;\r\n                        playSequence();\r\n                    }\r\n                }, 'test2');\r\n                await seq.value.play();\r\n                startMarkerAnim();\r\n            } catch (error) {\r\n                console.error(\"Error playing sequence: \", error);\r\n            }\r\n        };\r\n\r\n        const startNote = async (channel, note, octave) => {\r\n            try {\r\n                context.value.resume();\r\n                await synth.value.isReady;\r\n                synth.value.noteOn(channel, note.index + 12 * (octave + 1), 127, false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const endNote = async (channel, note, octave) => {\r\n            try {\r\n                await synth.value.isReady;\r\n                if (synth.value) {\r\n                    synth.value.noteOff(channel, note.index + 12 * (octave + 1));\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const mouseOverNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && draggingNotes.value.length === 0 && resizingNotes.value.length === 0) {\r\n                startNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const mouseLeaveNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && draggingNotes.value.length === 0 && resizingNotes.value.length === 0) {\r\n                endNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const changeInstrument = async () => {\r\n            if (synth.value) {\r\n\r\n            }\r\n            if (synth.value && selectedInstrument.value) {\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n\r\n                if (!soundFontArrayBuffer) return;\r\n\r\n                //context.value = new AudioContext();\r\n                //await context.value.audioWorklet.addModule(\"../worklet_processor.min.js\");\r\n\r\n                //synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                \r\n                await synth.value.soundfontManager.reloadManager(soundFontArrayBuffer);\r\n                await synth.value.isReady;\r\n            }\r\n        };\r\n\r\n        const startPositions = new Map();\r\n\r\n        const startDrag = (note, event, placeNote = true) => {\r\n            event.preventDefault();\r\n            if (event.button === 0 && resizingNotes.value.length === 0) { // Ensure we're dragging with left button\r\n                if (note.highlighted) {\r\n                    draggingNotes.value = selectedNotes.value;\r\n                } else {\r\n                    clearSelection();\r\n                    draggingNotes.value.push(note);\r\n                }\r\n\r\n                if (event.shiftKey && placeNote) {\r\n                    for (const note of draggingNotes.value) {\r\n                        notesInGrid.value.push({\r\n                            id: notesInGrid.value.length + Date.now(),\r\n                            name: note.name,\r\n                            left: note.left,\r\n                            top: note.top,\r\n                            width: note.width,\r\n                            highlighted: false\r\n                        });\r\n                    }\r\n                }\r\n\r\n                for (const draggingNote of draggingNotes.value) {\r\n                    startPositions.set(draggingNote.id, {\r\n                        x: event.clientX,\r\n                        y: event.clientY,\r\n                        left: draggingNote.left,\r\n                        top: draggingNote.top\r\n                    });\r\n                }\r\n\r\n                currentNoteLength.value = (note.width) / gridWidth;\r\n                document.addEventListener('mousemove', onDrag);\r\n                document.addEventListener('mouseup', endDrag);\r\n            }\r\n        };\r\n\r\n        const onDrag = (event) => {\r\n            if (draggingNotes.value && resizingNotes.value.length === 0) {\r\n\r\n                let outOfBounds = false;\r\n                const newPositions = [];\r\n\r\n                for (const note of draggingNotes.value) {\r\n\r\n                    const startPos = startPositions.get(note.id);\r\n                    if (!startPos) continue;\r\n\r\n                    const dx = event.clientX - startPos.x;\r\n                    const dy = event.clientY - startPos.y;\r\n\r\n                    let newLeft = 0;\r\n\r\n                    if (event.altKey) {\r\n                        newLeft = Math.round((startPos.left + dx) / (gridWidth/4)) * (gridWidth/4);\r\n                    } else {\r\n                        newLeft = Math.round((startPos.left + dx) / gridWidth) * gridWidth;\r\n                    }\r\n                    let newTop = Math.round((startPos.top + dy) / gridHeight) * gridHeight;\r\n                    \r\n                    if (newLeft < 0 || newTop < 0 || newTop > 2568) {\r\n                        outOfBounds = true;\r\n                        break; // Exit loop if any note is out of bounds\r\n                    }\r\n\r\n                    newPositions.push({ note, newLeft, newTop });\r\n\r\n                }\r\n\r\n                if (outOfBounds) return;\r\n\r\n                for (const { note, newLeft, newTop } of newPositions) {\r\n\r\n                    note.left = newLeft;\r\n                    note.top = newTop;\r\n\r\n                    const number = (1284-(note.top/2))/144;\r\n                    const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n                    if (note.name != noteName && draggingNotes.value.length === 1) {\r\n                        startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                        endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                    }\r\n                    note.name = noteName;\r\n                    \r\n                }\r\n            }\r\n        };\r\n\r\n        const endDrag = () => {\r\n            draggingNotes.value = [];\r\n            document.removeEventListener('mousemove', onDrag);\r\n            document.removeEventListener('mouseup', endDrag);\r\n            startPositions.clear();\r\n        };\r\n\r\n        const startResizeData = new Map();\r\n\r\n        const startResize = (note, event) => {\r\n            event.preventDefault();\r\n            if (event.button === 0) { // Ensure we're resizing with the left button\r\n                resizingNotes.value = [];\r\n                startX.value = event.clientX;\r\n                startResizeData.clear(); // Clear previous data\r\n\r\n                if (note.highlighted) {\r\n                    // If note is highlighted, prepare to resize all selected notes\r\n                    selectedNotes.value.forEach(n => {\r\n                        startResizeData.set(n.id, { width: n.width, startX: event.clientX });\r\n                    });\r\n                    resizingNotes.value = selectedNotes.value;\r\n                } else {\r\n                    // If note is not highlighted, resize only this note\r\n                    clearSelection();\r\n                    startResizeData.set(note.id, { width: note.width, startX: event.clientX });\r\n                    resizingNotes.value = [note];\r\n                }\r\n                \r\n                document.addEventListener('mousemove', onResize);\r\n                document.addEventListener('mouseup', endResize);\r\n            }\r\n        };\r\n\r\n        const onResize = (event) => {\r\n            if (resizingNotes.value.length > 0) {\r\n                let allInBounds = true;\r\n\r\n                const newWidths = [];\r\n\r\n                resizingNotes.value.forEach(note => {\r\n                    const startData = startResizeData.get(note.id);\r\n                    if (!startData) return;\r\n\r\n                    const dx = event.clientX - startData.startX;\r\n                    let newWidth = 0;\r\n                    if (event.altKey) {\r\n                        newWidth = Math.round((startData.width + dx) / (gridWidth/4)) * (gridWidth/4) - 1;\r\n                    } else {\r\n                        newWidth = Math.round((startData.width + dx) / gridWidth) * gridWidth - 1;\r\n                    }\r\n\r\n                    // Check if newWidth is valid for the note\r\n                    if (newWidth < gridWidth - 1 && !event.altKey) {\r\n                        allInBounds = false;\r\n                        return;\r\n                    }\r\n\r\n                    newWidths.push({ note, newWidth })\r\n\r\n                });\r\n\r\n                // If any note was resized to an invalid width, stop resizing\r\n                if (allInBounds) {\r\n                    for (const { note, newWidth } of newWidths) {\r\n                        note.width = newWidth;\r\n                        currentNoteLength.value = (newWidth) / gridWidth;\r\n                    };\r\n                }\r\n            }\r\n        };\r\n\r\n        const endResize = () => {\r\n            resizingNotes.value = [];\r\n            startResizeData.clear();\r\n            document.removeEventListener('mousemove', onResize);\r\n            document.removeEventListener('mouseup', endResize);\r\n        }\r\n\r\n        const handleGridClick = (event) => {\r\n            if (event.ctrlKey && draggingNotes.value.length <= 0) {\r\n                if (!event.shiftKey)\r\n                    clearSelection();\r\n                startSelection(event);\r\n            } else {\r\n                startPlacingNote(event);\r\n            }\r\n        }\r\n\r\n        function clearSelection() {\r\n            selectedNotes.value.forEach((note) => {\r\n                note.highlighted = false;\r\n            });\r\n            selectedNotes.value = [];\r\n        }\r\n\r\n        const startSelection = (event) => {\r\n            event.preventDefault();\r\n            isSelecting.value = true;\r\n            const rect = grid.value.getBoundingClientRect();\r\n            startX.value = event.clientX - rect.left;\r\n            startY.value = event.clientY - rect.top;\r\n            currentX.value = event.clientX - rect.left;\r\n            currentY.value = event.clientY - rect.top;\r\n            document.addEventListener('mousemove', onSelectionMove);\r\n            document.addEventListener('mouseup', onSelectionEnd);\r\n        };\r\n\r\n        const onSelectionMove = (event) => {\r\n            if (isSelecting.value) {\r\n                const rect = grid.value.getBoundingClientRect();\r\n                currentX.value = event.clientX - rect.left;\r\n                currentY.value = event.clientY - rect.top;\r\n                // This is where we add the logic to highlight the notes that might be selected (or we can select them I dont really care)\r\n            }\r\n        };\r\n\r\n        const onSelectionEnd = () => {\r\n            if (isSelecting.value) {\r\n                isSelecting.value = false;\r\n                document.removeEventListener('mousemove', onSelectionMove);\r\n                document.removeEventListener('mouseup', onSelectionEnd);\r\n                // This is where we add the logic to actually select the notes\r\n                checkIntersections();\r\n            }\r\n        };\r\n\r\n        function checkIntersections() {\r\n            const selectionRect = {\r\n                left: Math.min(startX.value, currentX.value),\r\n                top: Math.min(startY.value, currentY.value),\r\n                right: Math.max(startX.value, currentX.value),\r\n                bottom: Math.max(startY.value, currentY.value),\r\n            };\r\n\r\n            notesInGrid.value.forEach(note => {\r\n                const itemRect = {\r\n                    left: note.left,\r\n                    top: note.top,\r\n                    right: note.left + note.width,\r\n                    bottom: note.top + gridHeight,\r\n                };   \r\n\r\n                if (intersects(selectionRect, itemRect)) {\r\n                    //console.log(note.name + ' intersects with selection.');\r\n                    selectNote(note);\r\n                }\r\n            });\r\n\r\n        };\r\n\r\n        function selectNote(note) {\r\n            if (!selectedNotes.value.includes(note)) {\r\n                selectedNotes.value.push(note);\r\n                note.highlighted = true;\r\n            }\r\n        }\r\n\r\n        function intersects(rect1, rect2) {\r\n            return !(rect2.left >= rect1.right ||\r\n                    rect2.right <= rect1.left ||\r\n                    rect2.top >= rect1.bottom ||\r\n                    rect2.bottom <= rect1.top);\r\n        }\r\n\r\n\r\n        const startPlacingNote = (event) => {\r\n            if (draggingNotes.value.length > 0 || resizingNotes.value.length > 0) {\r\n                return;\r\n            }\r\n\r\n            const gridElement = grid.value;\r\n            const rect = gridElement.getBoundingClientRect();\r\n            const x = event.clientX - rect.left + gridElement.scrollLeft;\r\n            const y = event.clientY - rect.top + gridElement.scrollTop;\r\n\r\n            const left = Math.round((x - gridWidth / 2) / gridWidth) * gridWidth;\r\n            const top = Math.round((y - gridHeight / 2) / gridHeight) * gridHeight;\r\n\r\n            const number = (1284-(top/2))/144;\r\n            const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n            startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number));\r\n            endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number));\r\n\r\n            const existingNote = notesInGrid.value.find(note =>\r\n                note.left === left && note.top === top\r\n            );\r\n\r\n            if (!existingNote) {\r\n                clearSelection();\r\n                const id = notesInGrid.value.length + Date.now();\r\n                notesInGrid.value.push({\r\n                    id: id,\r\n                    name: noteName,\r\n                    left: left,\r\n                    top: top,\r\n                    width: gridWidth * currentNoteLength.value,\r\n                    highlighted: false\r\n                });\r\n                startDrag(notesInGrid.value.find(note => note.id == id), event, false);\r\n            } else {\r\n                startDrag(existingNote, event);\r\n            }\r\n        };\r\n\r\n        const startNoteRemove = (note, event) => {\r\n            if (event.button === 2) { // Ensure we're removing with right button\r\n                removeNote(note);\r\n            }\r\n        };\r\n\r\n        const removeNote = (note) => {\r\n            if (selectedNotes.value.includes(note)) {\r\n                selectedNotes.value = selectedNotes.value.filter(n => n.id !== note.id);\r\n            }\r\n            notesInGrid.value = notesInGrid.value.filter(n => n.id !== note.id);\r\n        };\r\n\r\n        document.addEventListener('mousedown', (event) => {\r\n            isMouseDown.value = true;\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            isMouseDown.value = false;\r\n        });\r\n\r\n        return {\r\n            notes,\r\n            octaves,\r\n            startNote,\r\n            endNote,\r\n            mouseOverNote,\r\n            mouseLeaveNote,\r\n            instruments,\r\n            selectedInstrument,\r\n            changeInstrument,\r\n            pianoRoll,\r\n            grid,\r\n            notesInGrid,\r\n            startDrag,\r\n            endDrag,\r\n            startPlacingNote,\r\n            removeNote,\r\n            gridWidth,\r\n            gridHeight,\r\n            gridSpan,\r\n            startResize,\r\n            endResize,\r\n            onResize,\r\n            currentNoteLength,\r\n            playSequence,\r\n            tempo,\r\n            handleGridClick,\r\n            isSelecting,\r\n            rectangleStyle,\r\n            startMarkerDrag,\r\n            markerPosition,\r\n            markerReplayPosition,\r\n            ruler,\r\n            loopSong\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.piano-container {\r\n    position: fixed;\r\n    /* Fix to the left side of the screen */\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    /* Full height */\r\n    width: 100%;\r\n    /* Width of the piano roll */\r\n    background-color: #ddd;\r\n}\r\n\r\n.instrument-selector {\r\n    padding: 10px;\r\n    background-color: #f0f0f0;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.piano-roll {\r\n    height: 100vh;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    overflow-y: auto;\r\n    box-sizing: border-box;\r\n    padding-bottom: 36px;\r\n}\r\n\r\n.piano-keys {\r\n    padding-top: 30px;\r\n    background-color: #ccc;\r\n    width: 10%;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    padding-bottom: 18px;\r\n    /* Higher notes at the top */\r\n    z-index: 12;\r\n}\r\n\r\n.octave {\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.keys-wrapper {\r\n    flex-direction: column-reverse;\r\n    /* Ensure keys are in the correct order */\r\n}\r\n\r\n.piano-key {\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    position: relative;\r\n    user-select: none;\r\n}\r\n\r\n.white-key {\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    background: white;\r\n    border-bottom: 1px solid #ccc;\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.black-key {\r\n    background: black;\r\n    color: #fff;\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    position: relative;\r\n    /* Center black key over white key */\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.white-key:nth-child(2n+1) {\r\n    background: #fff;\r\n}\r\n\r\n.white-key:nth-child(12n) {\r\n    background: #bbb;\r\n}\r\n\r\n.grid-wrapper {\r\n    overflow-x: scroll;\r\n    overflow-y: hidden;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.ruler {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    margin-top: 40px;\r\n    margin-left: calc(10% - 2px);\r\n    background-color: #eee;\r\n    height: 29px;\r\n    border-bottom: 1px solid #ccc;\r\n    display: flex;\r\n    align-items: end;\r\n    font-size: 12px;\r\n    color: #333;\r\n    background: repeating-linear-gradient( /*This is the horizontal lines*/\r\n        90deg,\r\n        #bbb,\r\n        #bbb 2px,\r\n        #eee 2px,\r\n        #eee 256px\r\n    );\r\n    z-index: 11;\r\n    user-select: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.ruler-tick-label {\r\n    position: absolute;\r\n    bottom: 0;\r\n    white-space: nowrap;\r\n    transform: translateX(5px);\r\n    font-size: 14px;\r\n    color: #333;\r\n}\r\n\r\n.marker-replay-triangle {\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 10px solid transparent;\r\n    border-right: 10px solid transparent;\r\n    border-top: 10px solid #bbb; /* Triangle color */\r\n    left: 50%;\r\n    bottom: 0; /* Inside the ruler */\r\n    transform: translateX(-50%);\r\n}\r\n\r\n.marker-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    transform: translateX(-50%);\r\n    pointer-events: none;\r\n}\r\n\r\n.marker-triangle {\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 10px solid transparent;\r\n    border-right: 10px solid transparent;\r\n    border-top: 10px solid #f0d000; /* Triangle color */\r\n    left: 50%;\r\n    bottom: 0; /* Inside the ruler */\r\n    transform: translateX(-50%);\r\n}\r\n\r\n.marker-line {\r\n    position: absolute;\r\n    width: 2px;\r\n    height: 100vh;\r\n    background-color: #f0d000;\r\n    left: 50%;\r\n    bottom: - 100%; /* Below the ruler */\r\n    transform: translateX(-50%);\r\n}\r\n\r\n.grid {\r\n    padding-top: 18px;\r\n    margin-top: 30px;\r\n    position: absolute;\r\n    display: flex;\r\n    min-width: 100%;\r\n    align-self: top;\r\n    height: 100%;/*2592px;*/\r\n    background: repeating-linear-gradient( /*This is the horizontal lines*/\r\n        0deg,\r\n        #bbb,\r\n        #bbb 2px,\r\n        transparent 2px,\r\n        transparent 24px\r\n    ),\r\n    repeating-linear-gradient( /*This is the Bar line*/\r\n        90deg,\r\n        #777,\r\n        #777 2px,\r\n        transparent 2px,\r\n        transparent 256px\r\n    ),\r\n    repeating-linear-gradient( /*This is the vertical lines*/\r\n        90deg,\r\n        #c0c0c0,\r\n        #c0c0c0 2px,\r\n        transparent 2px,\r\n        transparent 16px\r\n    ),\r\n    repeating-linear-gradient(/*This is the background colors*/\r\n        90deg,\r\n        #e0e0e0,\r\n        #e0e0e0 64px,\r\n        #ccc 64px,\r\n        #ccc 128px\r\n    );\r\n    z-index: 10;\r\n    overflow: hidden;\r\n}\r\n\r\n.note {\r\n  position: absolute;\r\n  background-color: rgba(0, 120, 255, 0.5);\r\n  border: 1px solid #0078d4;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 20;\r\n  font-size: 70%;\r\n  margin-left: 1px;\r\n}\r\n\r\n.note:active {\r\n    background-color: rgba(0, 120, 255, 0.7);\r\n}\r\n\r\n.resize-handle {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 40%; /* Adjust as needed */\r\n    max-width: 10px;\r\n    height: 100%;\r\n    cursor: ew-resize;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.play-button {\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 10px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #0078d4;\r\n  color: white;\r\n  z-index: 1000; /* Ensure it's on top of other elements */\r\n  outline: none;\r\n  box-shadow: 0 3px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.loop-wrapper {\r\n    position: fixed;\r\n    top: 10px;\r\n    right: 160px;\r\n    padding: 10px 20px;\r\n    height: 18px;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    background-color: #0078d4;\r\n    color: white;\r\n    border-radius: 5px;\r\n    box-shadow: 0 3px 4px rgba(0, 0, 0, 0.3);\r\n    z-index: 1000;\r\n}\r\n\r\n.controls {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.instrument-selector,\r\n.tempo-selector {\r\n    margin-right: 15px;\r\n}\r\n\r\n.selection-rect {\r\n    position: absolute;\r\n    border: 1px solid rgba(0, 100, 255, 0.5);\r\n    background-color: rgba(0, 100, 255, 0.3);\r\n    z-index: 30;\r\n}\r\n\r\n</style>","import { render } from \"./PianoRoll.vue?vue&type=template&id=e553802c&scoped=true\"\nimport script from \"./PianoRoll.vue?vue&type=script&lang=js\"\nexport * from \"./PianoRoll.vue?vue&type=script&lang=js\"\n\nimport \"./PianoRoll.vue?vue&type=style&index=0&id=e553802c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e553802c\"]])\n\nexport default __exports__","import { render } from \"./Sequencer.vue?vue&type=template&id=2e49d91b&scoped=true\"\nimport script from \"./Sequencer.vue?vue&type=script&lang=js\"\nexport * from \"./Sequencer.vue?vue&type=script&lang=js\"\n\nimport \"./Sequencer.vue?vue&type=style&index=0&id=2e49d91b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e49d91b\"]])\n\nexport default __exports__","import { render } from \"./PatternEditor.vue?vue&type=template&id=233a7f0a&scoped=true\"\nimport script from \"./PatternEditor.vue?vue&type=script&lang=js\"\nexport * from \"./PatternEditor.vue?vue&type=script&lang=js\"\n\nimport \"./PatternEditor.vue?vue&type=style&index=0&id=233a7f0a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-233a7f0a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45718dbe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45718dbe&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/MabiMML/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmusic_sequencer\"] = self[\"webpackChunkmusic_sequencer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(53083); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","alt","src","_imports_0","id","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_createVNode","_component_PatternEditor","class","ref","_component_PianoRoll","for","_hoisted_13","_hoisted_14","onClick","_cache","args","$setup","playSequence","_createTextVNode","type","$event","loopSong","_hoisted_3","_hoisted_4","_hoisted_5","selectedInstrument","onChange","changeInstrument","_renderList","instruments","instrument","index","key","value","name","_hoisted_6","_hoisted_7","_hoisted_8","tempo","min","max","number","_hoisted_9","_hoisted_10","octaves","octave","_hoisted_11","notes","slice","reverse","note","_normalizeClass","isBlack","onMousedown","startNote","onMouseover","mouseOverNote","onMouseup","endNote","onMouseleave","mouseLeaveNote","style","_normalizeStyle","zIndex","_hoisted_12","startMarkerDrag","width","gridSpan","Math","ceil","left","markerReplayPosition","markerPosition","_hoisted_15","_hoisted_16","_withModifiers","handleGridClick","onContextmenu","_ctx","startNoteRemove","notesInGrid","top","gridHeight","highlighted","startDrag","removeNote","endDrag","startResize","_hoisted_18","_toDisplayString","_hoisted_17","isSelecting","rectangleStyle","_createCommentVNode","setup","root","pianoRoll","grid","synth","context","isMouseDown","sf2","midiBuilder","currentNoteLength","gridWidth","draggingNotes","resizingNotes","startX","startY","window","innerWidth","scrollX","selectedNotes","currentX","currentY","ruler","seq","isPlaying","computed","abs","height","backgroundColor","border","noteNames","blackNotes","map","includes","watchEffect","maxRightPosition","loadSoundFont","async","response","fetch","soundFontArrayBuffer","arrayBuffer","error","console","onMounted","gridWrapper","document","querySelector","addEventListener","updateRuler","handleKeyPress","AudioContext","audioWorklet","addModule","Synthetizer","destination","undefined","chorusEnabled","reverbEnabled","isReady","event","updateMarkerPos","clientX","altKey","onMarkerDrag","onMarkerDragEnd","removeEventListener","markerInterval","startMarkerAnim","clearInterval","doMarkerAnim","tick","setInterval","stopMarkerAnim","fromClick","rulerRect","getBoundingClientRect","newPos","round","code","preventDefault","stop","ctrlKey","selectNote","scrollLeft","MIDIBuilder","resume","notesAdded","forEach","channel","pitch","indexOf","parseInt","noteStartTime","noteDuration","markerTime","startTime","duration","addNoteOn","addNoteOff","flush","b","writeMIDIFile","Sequencer","binary","loop","skipToFirstNoteOn","addOnSongEndedEvent","play","noteOn","noteOff","length","soundfontManager","reloadManager","startPositions","Map","placeNote","button","clearSelection","push","shiftKey","Date","now","draggingNote","set","x","y","clientY","onDrag","outOfBounds","newPositions","startPos","get","dx","dy","newLeft","newTop","noteName","floor","clear","startResizeData","n","onResize","endResize","allInBounds","newWidths","startData","newWidth","startSelection","startPlacingNote","rect","onSelectionMove","onSelectionEnd","checkIntersections","selectionRect","right","bottom","itemRect","intersects","rect1","rect2","gridElement","scrollTop","existingNote","find","filter","__exports__","components","PianoRoll","scrollContainer","PatternEditor","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","p","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}