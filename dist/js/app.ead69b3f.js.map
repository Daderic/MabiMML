{"version":3,"file":"js/app.ead69b3f.js","mappings":"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","sources":["webpack://music-sequencer/./src/App.vue","webpack://music-sequencer/./src/components/PatternEditor.vue","webpack://music-sequencer/./src/components/PianoRoll.vue","webpack://music-sequencer/./src/components/PianoRoll.vue?b086","webpack://music-sequencer/./src/components/Sequencer.vue","webpack://music-sequencer/./src/components/PatternEditor.vue?415c","webpack://music-sequencer/./src/App.vue?7ccd","webpack://music-sequencer/./src/main.js","webpack://music-sequencer/webpack/bootstrap","webpack://music-sequencer/webpack/runtime/chunk loaded","webpack://music-sequencer/webpack/runtime/compat get default export","webpack://music-sequencer/webpack/runtime/define property getters","webpack://music-sequencer/webpack/runtime/global","webpack://music-sequencer/webpack/runtime/hasOwnProperty shorthand","webpack://music-sequencer/webpack/runtime/publicPath","webpack://music-sequencer/webpack/runtime/jsonp chunk loading","webpack://music-sequencer/webpack/startup"],"sourcesContent":["<template>\n  <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n  <div id=\"app\">\n    <PatternEditor />\n  </div>\n</template>\n\n<script>\nimport PatternEditor from './components/PatternEditor.vue';\nimport PianoRoll from './components/PianoRoll.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    PatternEditor\n  }\n}\n</script>\n\n<style>\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n","<template>\r\n    <div class=\"pattern-editor\">\r\n        <div class=\"scroll-container\" ref=\"scrollContainer\">\r\n            <PianoRoll />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport PianoRoll from './PianoRoll.vue';\r\nimport Sequencer from './Sequencer.vue';\r\n\r\nexport default {\r\n    name: 'PatternEditor',\r\n    components: {\r\n        PianoRoll\r\n    },\r\n    setup() {\r\n        const scrollContainer = ref(null);\r\n\r\n        return {\r\n            scrollContainer\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.pattern-editor {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.scroll-container {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: auto;\r\n    display: flex;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"piano-container\">\r\n        <button class=\"play-button\" @click=\"playSequence\">Play Sequence</button>\r\n        <div class=\"instrument-selector\">\r\n            <label for=\"instrument-select\">Select Instrument: </label>\r\n            <select id=\"instrument-select\" v-model=\"selectedInstrument\" @change=\"changeInstrument\">\r\n                <option v-for=\"(instrument, index) in instruments\" :key=\"index\" :value=\"instrument\">\r\n                    {{ instrument.name }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <div class=\"piano-roll\" ref=\"pianoRoll\">\r\n            <div class=\"piano-keys\">\r\n                <!-- Generate piano keys for multiple octaves -->\r\n                <div v-for=\"octave in octaves\" :key=\"octave\" class=\"octave\">\r\n                    <div class=\"keys-wrapper\">\r\n                        <!-- Keys should be in reverse order to have higher notes at the top -->\r\n                        <div v-for=\"(note, index) in notes.slice().reverse()\" :key=\"note.name\"\r\n                            :class=\"['piano-key', note.isBlack ? 'black-key' : 'white-key']\"\r\n                            @mousedown=\"startNote(0, note, octave)\"\r\n                            @mouseover=\"mouseOverNote(0, note, octave)\"\r\n                            @mouseup=\"endNote(0, note, octave)\"\r\n                            @mouseleave=\"mouseLeaveNote(0, note, octave)\"\r\n                            :style=\"note.isBlack ? { zIndex: 1 } : {}\">\r\n                            {{ note.name + octave }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid-wrapper\">\r\n                <div class=\"grid\" ref=\"grid\" :style=\"{ width: gridSpan + 'px' }\" @mousedown.left=\"startPlacingNote\" @contextmenu.prevent=\"startNoteRemove\">\r\n                    <div v-for=\"note in notesInGrid\" :key=\"note.id\" class=\"note\"\r\n                        :style=\"{\r\n                        left: note.left + 'px',\r\n                        top: note.top + 'px',\r\n                        width: note.width + 'px',\r\n                        height: gridHeight + 'px'\r\n                        }\"\r\n                        @mousedown.left=\"startDrag(note, $event)\"\r\n                        @mouseup.left=\"endDrag\"\r\n                        @mousedown.right.prevent=\"removeNote(note)\">\r\n                        <div class=\"resize-handle\" @mousedown=\"startResize(note, $event)\"></div>\r\n                        {{ note.name }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, watchEffect } from 'vue';\r\nimport { Synthetizer, MIDIBuilder, writeMIDIFile, Sequencer } from \"spessasynth_lib\";\r\n\r\nexport default {\r\n    name: 'PianoRoll',\r\n    setup() {\r\n        const pianoRoll = ref(null);\r\n        const grid = ref(null);\r\n        const synth = ref(null);\r\n        const context = ref(null);\r\n        const isMouseDown = ref(false);\r\n        const selectedInstrument = ref({ name: 'Piano', sf2: '/soundfonts/piano.sf2' });\r\n        const midiBuilder = ref(null);\r\n\r\n        const instruments = ref([\r\n            { name: 'Piano', sf2: '/soundfonts/piano.sf2' },\r\n            { name: 'Harp', sf2: '/soundfonts/harp.sf2' },\r\n            { name: 'Lyre', sf2: '/soundfonts/lyre.sf2' },\r\n            { name: 'Lute', sf2: '/soundfonts/lute.sf2' },\r\n            { name: 'Ukulele', sf2: '/soundfonts/ukulele.sf2' },\r\n            { name: 'Mandolin', sf2: '/soundfonts/mandolin.sf2' },\r\n            { name: 'Electric Guitar', sf2: '/soundfonts/electric_guitar.sf2' },\r\n            { name: 'Violin', sf2: '/soundfonts/violin.sf2' },\r\n            { name: 'Cello', sf2: '/soundfonts/cello.sf2' },\r\n            { name: 'Flute', sf2: '/soundfonts/flute.sf2' },\r\n            { name: 'Whistle', sf2: '/soundfonts/whistle.sf2' },\r\n            { name: 'Chalumeau', sf2: '/soundfonts/chalumeau.sf2' },\r\n            { name: 'Roncadora', sf2: '/soundfonts/roncadora.sf2' },\r\n            { name: 'Physis Tuba', sf2: '/soundfonts/tuba.sf2' },\r\n            { name: 'Festival Lute', sf2: '/soundfonts/festival_lute.sf2' },\r\n            { name: 'Festival Ukulele', sf2: '/soundfonts/festival_ukulele.sf2' },\r\n            { name: 'Festival Mandolin', sf2: '/soundfonts/festival_mandolin.sf2' },\r\n            { name: 'Fest/Tuned Flute', sf2: '/soundfonts/festival_flute.sf2' },\r\n            { name: 'Fest/Tuned Whistle', sf2: '/soundfonts/festival_whistle.sf2' },\r\n            { name: 'Tuned Violin', sf2: '/soundfonts/tuned_violin.sf2' },\r\n            { name: 'Tuned Cello', sf2: '/soundfonts/tuned_cello.sf2' },\r\n            { name: 'Drum Kit', sf2: '/soundfonts/drum_kit.sf2' },\r\n            { name: 'Bass Drum', sf2: '/soundfonts/bass_drum.sf2' },\r\n            { name: 'Snare Drum', sf2: '/soundfonts/snare_drum.sf2' },\r\n            { name: 'Cymbals', sf2: '/soundfonts/cymbals.sf2' },\r\n            { name: 'Hand Chimes', sf2: '/soundfonts/hand_chimes.sf2' },\r\n            { name: 'Male Voice', sf2: '/soundfonts/male_voice.sf2' },\r\n            { name: 'Male Chorus', sf2: '/soundfonts/male_chorus.sf2' },\r\n            { name: 'Female Voice', sf2: '/soundfonts/female_voice.sf2' },\r\n            { name: 'Female Chorus', sf2: '/soundfonts/female_chorus.sf2' },\r\n            { name: \"'C' Tone Bottle\", sf2: '/soundfonts/c_tone_bottle.sf2' },\r\n            { name: \"'D' Tone Bottle\", sf2: '/soundfonts/d_tone_bottle.sf2' },\r\n            { name: \"'E' Tone Bottle\", sf2: '/soundfonts/e_tone_bottle.sf2' },\r\n            { name: \"'F' Tone Bottle\", sf2: '/soundfonts/f_tone_bottle.sf2' },\r\n            { name: \"'G' Tone Bottle\", sf2: '/soundfonts/g_tone_bottle.sf2' },\r\n            { name: \"'A' Tone Bottle\", sf2: '/soundfonts/a_tone_bottle.sf2' },\r\n            { name: \"'B' Tone Bottle\", sf2: '/soundfonts/b_tone_bottle.sf2' },\r\n            { name: \"'C' Tone Handbell\", sf2: '/soundfonts/c_tone_handbell.sf2' },\r\n            { name: \"'D' Tone Handbell\", sf2: '/soundfonts/d_tone_handbell.sf2' },\r\n            { name: \"'E' Tone Handbell\", sf2: '/soundfonts/e_tone_handbell.sf2' },\r\n            { name: \"'F' Tone Handbell\", sf2: '/soundfonts/f_tone_handbell.sf2' },\r\n            { name: \"'G' Tone Handbell\", sf2: '/soundfonts/g_tone_handbell.sf2' },\r\n            { name: \"'A' Tone Handbell\", sf2: '/soundfonts/a_tone_handbell.sf2' },\r\n            { name: \"'B' Tone Handbell\", sf2: '/soundfonts/b_tone_handbell.sf2' },\r\n            { name: 'High \\'C\\' Tone Handbell', sf2: '/soundfonts/high_c_tone_handbell.sf2' }\r\n        ]);\r\n\r\n        var currentNoteLength = ref(16);\r\n        const gridWidth = 16;\r\n        const gridHeight = 24;\r\n        const notesInGrid = ref([]);\r\n        const draggingNote = ref(null);\r\n        const resizingNote = ref(null);\r\n        const startX = ref(0);\r\n        const startY = ref(0);\r\n        const startLeft = ref(0);\r\n        const startTop = ref(0);\r\n        const startWidth = ref(0);\r\n        const gridSpan = ref(window.innerWidth);\r\n\r\n        const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\n        const blackNotes = ['C#', 'D#', 'F#', 'G#', 'A#'];\r\n        const notes = ref(noteNames.map((name, index) => ({\r\n            name: name,\r\n            index: index,\r\n            isBlack: blackNotes.includes(name)\r\n        })));\r\n        const octaves = ref([0, 1, 2, 3, 4, 5, 6, 7, 8]);\r\n\r\n        watchEffect(() => {\r\n            const maxRightPosition = Math.max(...notesInGrid.value.map(note => note.left + note.width), 0);\r\n            gridSpan.value = Math.max(maxRightPosition + window.innerWidth, window.innerWidth);\r\n        });\r\n\r\n        const loadSoundFont = async (instrument) => {\r\n            try {\r\n                const response = await fetch(instrument.sf2);\r\n                const soundFontArrayBuffer = await response.arrayBuffer();\r\n                return soundFontArrayBuffer;\r\n            } catch (error) {\r\n                console.error(\"Failed to load SoundFont:\", error);\r\n                return null;\r\n            }\r\n        };\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                context.value = new AudioContext();\r\n                await context.value.audioWorklet.addModule(\"../worklet_processor.min.js\");\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n                if (!soundFontArrayBuffer) return;\r\n                synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                await synth.value.isReady;\r\n\r\n            } catch (error) {\r\n                console.error(\"Error initializing sequencer or synthesizer:\", error);\r\n            }\r\n        });\r\n\r\n        const playSequence = async () => {\r\n            try {\r\n                midiBuilder.value = new MIDIBuilder(\"untitled\", 480, 120);\r\n                //midiBuilder.value.addEvent(0, 0, 0xC0, [selectedInstrument.value.program - 1]);\r\n                \r\n                context.value.resume();\r\n                if (!synth.value) return;\r\n\r\n                notesInGrid.value.forEach(note => {\r\n                    const channel = 0;\r\n                    const pitch = noteNames.indexOf(note.name.slice(0, -1)) + 12 * (parseInt(note.name.slice(-1)) + 1);\r\n                    const startTime = note.left / gridWidth*120;\r\n                    const duration = note.width * (480/(gridWidth*4));\r\n\r\n                    midiBuilder.value.addNoteOn(startTime, 0, channel, pitch, 127);\r\n                    midiBuilder.value.addNoteOff(startTime + duration, 0, channel, pitch);\r\n                });\r\n\r\n                midiBuilder.value.flush();\r\n\r\n                const b = await(writeMIDIFile(midiBuilder.value));\r\n                const seq = new Sequencer([{binary: b}], synth.value);\r\n                seq.loop = false;\r\n                await synth.value.isReady;\r\n                seq.play();\r\n            } catch (error) {\r\n                console.error(\"Error playing sequence: \", error);\r\n            }\r\n        };\r\n\r\n        const startNote = async (channel, note, octave) => {\r\n            try {\r\n                context.value.resume();\r\n                await synth.value.isReady;\r\n                synth.value.noteOn(channel, note.index + 12 * (octave + 1), 127, false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const endNote = async (channel, note, octave) => {\r\n            try {\r\n                await synth.value.isReady;\r\n                if (synth.value) {\r\n                    synth.value.noteOff(channel, note.index + 12 * (octave + 1));\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        const mouseOverNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && !draggingNote.value && !resizingNote.value) {\r\n                startNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const mouseLeaveNote = (channel, note, octave) => {\r\n            if (isMouseDown.value && !draggingNote.value && !resizingNote.value) {\r\n                endNote(channel, note, octave);\r\n            }\r\n        };\r\n\r\n        const changeInstrument = async () => {\r\n            if (synth.value) {\r\n\r\n            }\r\n            if (synth.value && selectedInstrument.value) {\r\n                const soundFontArrayBuffer = await loadSoundFont(selectedInstrument.value);\r\n\r\n                if (!soundFontArrayBuffer) return;\r\n\r\n                //context.value = new AudioContext();\r\n                //await context.value.audioWorklet.addModule(\"../worklet_processor.min.js\");\r\n\r\n                //synth.value = new Synthetizer(context.value.destination, soundFontArrayBuffer, true, undefined, {chorusEnabled: false, reverbEnabled: false});\r\n                \r\n                await synth.value.soundfontManager.reloadManager(soundFontArrayBuffer);\r\n                await synth.value.isReady;\r\n            }\r\n        };\r\n\r\n        const startDrag = (note, event) => {\r\n            event.preventDefault();\r\n            if (event.button === 0 && !resizingNote.value) { // Ensure we're dragging with left button\r\n                draggingNote.value = note;\r\n                startX.value = event.clientX;\r\n                startY.value = event.clientY;\r\n                startLeft.value = note.left;\r\n                startTop.value = note.top;\r\n                currentNoteLength.value = draggingNote.value.width / gridWidth;\r\n                document.addEventListener('mousemove', onDrag);\r\n                document.addEventListener('mouseup', endDrag);\r\n            }\r\n        };\r\n\r\n        const onDrag = (event) => {\r\n            if (draggingNote.value && !resizingNote.value) {\r\n                const dx = event.clientX - startX.value;\r\n                const dy = event.clientY - startY.value;\r\n                var newLeft = Math.round((startLeft.value + dx) / gridWidth) * gridWidth;\r\n                var newTop = Math.round((startTop.value + dy) / gridHeight) * gridHeight;\r\n\r\n                if (newLeft < 0) {\r\n                    newLeft = 0;\r\n                }\r\n\r\n                if (newTop < 0) {\r\n                    newTop = 0;\r\n                } else if (newTop > 2568) {\r\n                    newTop = 2568;\r\n                }\r\n\r\n                draggingNote.value.left = newLeft;\r\n                draggingNote.value.top = newTop;\r\n\r\n                const number = (1284-(draggingNote.value.top/2))/144;\r\n                const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n                if (draggingNote.value.name != noteName) {\r\n                    startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                    endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n                }\r\n                draggingNote.value.name = noteName;\r\n            }\r\n        };\r\n\r\n        const endDrag = () => {\r\n            draggingNote.value = null;\r\n            document.removeEventListener('mousemove', onDrag);\r\n            document.removeEventListener('mouseup', endDrag);\r\n        };\r\n\r\n        const startResize = (note, event) => {\r\n            event.preventDefault();\r\n            resizingNote.value = note;\r\n            startX.value = event.clientX;\r\n            startWidth.value = note.width;\r\n            document.addEventListener('mousemove', onResize);\r\n            document.addEventListener('mouseup', endResize);\r\n        };\r\n\r\n        const onResize = (event) => {\r\n            if (resizingNote.value) {\r\n                const dx = event.clientX - startX.value;\r\n                let newWidth = Math.max(gridWidth, Math.round((startWidth.value + dx)/gridWidth)*gridWidth);\r\n                resizingNote.value.width = newWidth;\r\n                currentNoteLength.value = newWidth / gridWidth;\r\n            }\r\n        }\r\n\r\n        const endResize = () => {\r\n            resizingNote.value = null;\r\n            document.removeEventListener('mousemove', onResize);\r\n            document.removeEventListener('mouseup', endResize);\r\n        }\r\n\r\n        const startPlacingNote = (event) => {\r\n            if (draggingNote.value || resizingNote.value) {\r\n                return;\r\n            }\r\n\r\n            const gridElement = grid.value;\r\n            const rect = gridElement.getBoundingClientRect();\r\n            const x = event.clientX - rect.left + gridElement.scrollLeft;\r\n            const y = event.clientY - rect.top + gridElement.scrollTop;\r\n\r\n            const left = Math.round((x - gridWidth / 2) / gridWidth) * gridWidth;\r\n            const top = Math.round((y - gridHeight / 2) / gridHeight) * gridHeight;\r\n\r\n            const number = (1284-(top/2))/144;\r\n            const noteName = noteNames[number * 12 % 12] + \"\" + Math.floor(number);\r\n            startNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n            endNote(0, {name: noteName, index: number * 12 % 12}, Math.floor(number))\r\n\r\n            const existingNote = notesInGrid.value.find(note =>\r\n                note.left === left && note.top === top\r\n            );\r\n\r\n            if (!existingNote) {\r\n                 // You can adjust this logic if needed\r\n                notesInGrid.value.push({\r\n                    id: Date.now(),\r\n                    name: noteName,\r\n                    left: left,\r\n                    top: top,\r\n                    width: gridWidth * currentNoteLength.value,\r\n                });\r\n            } else {\r\n                // Start dragging if a note already exists at the clicked position\r\n                startDrag(existingNote, event);\r\n            }\r\n        };\r\n\r\n        const startNoteRemove = (note, event) => {\r\n            if (event.button === 2) { // Ensure we're removing with right button\r\n                removeNote(note);\r\n            }\r\n        };\r\n\r\n        const removeNote = (note) => {\r\n            notesInGrid.value = notesInGrid.value.filter(n => n.id !== note.id);\r\n        };\r\n\r\n        document.addEventListener('mousedown', (event) => {\r\n            isMouseDown.value = true;\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            isMouseDown.value = false;\r\n        });\r\n\r\n        return {\r\n            notes,\r\n            octaves,\r\n            startNote,\r\n            endNote,\r\n            mouseOverNote,\r\n            mouseLeaveNote,\r\n            instruments,\r\n            selectedInstrument,\r\n            changeInstrument,\r\n            pianoRoll,\r\n            grid,\r\n            notesInGrid,\r\n            startDrag,\r\n            endDrag,\r\n            startPlacingNote,\r\n            removeNote,\r\n            gridWidth,\r\n            gridHeight,\r\n            gridSpan,\r\n            startResize,\r\n            endResize,\r\n            resizingNote,\r\n            onResize,\r\n            currentNoteLength,\r\n            playSequence\r\n        };\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.piano-container {\r\n    position: fixed;\r\n    /* Fix to the left side of the screen */\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    /* Full height */\r\n    width: 100%;\r\n    /* Width of the piano roll */\r\n    background-color: #ddd;\r\n}\r\n\r\n.instrument-selector {\r\n    padding: 10px;\r\n    background-color: #f0f0f0;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.piano-roll {\r\n    height: 100vh;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    overflow-y: auto;\r\n    box-sizing: border-box;\r\n    padding-bottom: 36px;\r\n}\r\n\r\n.piano-keys {\r\n    width: 10%;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    padding-bottom: 18px;\r\n    /* Higher notes at the top */\r\n}\r\n\r\n.octave {\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.keys-wrapper {\r\n    flex-direction: column-reverse;\r\n    /* Ensure keys are in the correct order */\r\n}\r\n\r\n.piano-key {\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n    position: relative;\r\n    user-select: none;\r\n}\r\n\r\n.white-key {\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    background: white;\r\n    border-bottom: 1px solid #ccc;\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.black-key {\r\n    background: black;\r\n    color: #fff;\r\n    width: 100%;\r\n    height: 24px;\r\n    align-content: center;\r\n    /* Adjust based on desired key height */\r\n    position: relative;\r\n    /* Center black key over white key */\r\n    text-align: right;\r\n    padding-right: 10px;\r\n    user-select: none;\r\n    font-size: 80%;\r\n}\r\n\r\n.white-key:nth-child(2n+1) {\r\n    background: #fff;\r\n}\r\n\r\n.white-key:nth-child(12n) {\r\n    background: #bbb;\r\n}\r\n\r\n.grid-wrapper {\r\n    overflow-x: scroll;\r\n    overflow-y: hidden;\r\n    flex-grow: 1;\r\n    position: relative;\r\n}\r\n\r\n.grid {\r\n    position: absolute;\r\n    display: flex;\r\n    min-width: 200%;\r\n    align-self: top;\r\n    height: 100%;/*2592px;*/\r\n    background: repeating-linear-gradient(\r\n        0deg,\r\n        #ccc,\r\n        #ccc 2px,\r\n        transparent 2px,\r\n        transparent 24px\r\n    ),\r\n    repeating-linear-gradient(\r\n        90deg,\r\n        #ccc,\r\n        #ccc 2px,\r\n        transparent 2px,\r\n        transparent 16px\r\n    );\r\n    z-index: 10;\r\n    overflow: hidden;\r\n}\r\n\r\n.note {\r\n  position: absolute;\r\n  background-color: rgba(0, 120, 255, 0.5);\r\n  border: 1px solid #0078d4;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 20;\r\n  font-size: 70%;\r\n}\r\n\r\n.note:active {\r\n    background-color: rgba(0, 120, 255, 0.7);\r\n}\r\n\r\n.resize-handle {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    width: 10px; /* Adjust as needed */\r\n    height: 100%;\r\n    cursor: ew-resize;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.play-button {\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 10px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #0078d4;\r\n  color: white;\r\n  z-index: 1000; /* Ensure it's on top of other elements */\r\n  outline: none;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n</style>","import { render } from \"./PianoRoll.vue?vue&type=template&id=65bef9f6&scoped=true\"\nimport script from \"./PianoRoll.vue?vue&type=script&lang=js\"\nexport * from \"./PianoRoll.vue?vue&type=script&lang=js\"\n\nimport \"./PianoRoll.vue?vue&type=style&index=0&id=65bef9f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65bef9f6\"]])\n\nexport default __exports__","import { render } from \"./Sequencer.vue?vue&type=template&id=2e49d91b&scoped=true\"\nimport script from \"./Sequencer.vue?vue&type=script&lang=js\"\nexport * from \"./Sequencer.vue?vue&type=script&lang=js\"\n\nimport \"./Sequencer.vue?vue&type=style&index=0&id=2e49d91b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e49d91b\"]])\n\nexport default __exports__","import { render } from \"./PatternEditor.vue?vue&type=template&id=233a7f0a&scoped=true\"\nimport script from \"./PatternEditor.vue?vue&type=script&lang=js\"\nexport * from \"./PatternEditor.vue?vue&type=script&lang=js\"\n\nimport \"./PatternEditor.vue?vue&type=style&index=0&id=233a7f0a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-233a7f0a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45718dbe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45718dbe&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/MabiMML/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmusic_sequencer\"] = self[\"webpackChunkmusic_sequencer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3299); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","alt","src","_imports_0","id","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_createVNode","_component_PatternEditor","class","ref","_component_PianoRoll","for","onClick","_cache","args","$setup","playSequence","_hoisted_3","$event","selectedInstrument","onChange","changeInstrument","_renderList","instruments","instrument","index","key","value","name","_hoisted_4","_hoisted_5","_hoisted_6","octaves","octave","_hoisted_7","notes","slice","reverse","note","_normalizeClass","isBlack","onMousedown","startNote","onMouseover","mouseOverNote","onMouseup","endNote","onMouseleave","mouseLeaveNote","style","_normalizeStyle","zIndex","_hoisted_8","_hoisted_9","width","gridSpan","_withModifiers","startPlacingNote","onContextmenu","_ctx","startNoteRemove","notesInGrid","left","top","gridHeight","startDrag","removeNote","endDrag","startResize","_hoisted_11","_createTextVNode","_toDisplayString","_hoisted_10","setup","pianoRoll","grid","synth","context","isMouseDown","sf2","midiBuilder","currentNoteLength","gridWidth","draggingNote","resizingNote","startX","startY","startLeft","startTop","startWidth","window","innerWidth","noteNames","blackNotes","map","includes","watchEffect","maxRightPosition","Math","max","loadSoundFont","async","response","fetch","soundFontArrayBuffer","arrayBuffer","error","console","onMounted","AudioContext","audioWorklet","addModule","Synthetizer","destination","undefined","chorusEnabled","reverbEnabled","isReady","MIDIBuilder","resume","forEach","channel","pitch","indexOf","parseInt","startTime","duration","addNoteOn","addNoteOff","flush","b","writeMIDIFile","seq","Sequencer","binary","loop","play","noteOn","noteOff","soundfontManager","reloadManager","event","preventDefault","button","clientX","clientY","document","addEventListener","onDrag","dx","dy","newLeft","round","newTop","number","noteName","floor","removeEventListener","onResize","endResize","newWidth","gridElement","rect","getBoundingClientRect","x","scrollLeft","y","scrollTop","existingNote","find","push","Date","now","filter","n","__exports__","components","PianoRoll","scrollContainer","PatternEditor","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","p","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}